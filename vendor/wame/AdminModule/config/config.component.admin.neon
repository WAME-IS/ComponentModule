services:
    # Events
    - {class: Wame\ComponentModule\Vendor\Wame\AdminModule\Events\ComponentFormListener, tags: [run]}


    # Grids
    ComponentGrid:
        class: Wame\ComponentModule\Vendor\Wame\AdminModule\Grids\ComponentGrid
        setup:
            - setDefaultSort({'id': 'DESC'})
            - add(Wame\DataGridControl\Columns\Id(), null, {priority: 90})
#            - add(Wame\ComponentModule\Vendor\Wame\AdminModule\Grids\Columns\Component\Type(), null, {priority: 80})
            - add(Wame\ComponentModule\Vendor\Wame\AdminModule\Grids\Columns\Component\TitleLink(), null, {priority: 70})
            - add(Wame\DataGridControl\Columns\Name(), null, {priority: 60})
            - add(Wame\DataGridControl\Columns\Status(), null, {priority: 50})
            - add(Wame\DataGridControl\Actions\Delete())
            - add(Wame\ComponentModule\Vendor\Wame\AdminModule\Grids\ToolbarButtons\AddComponent())
            - add(Wame\DataGridControl\GroupActions\DeleteSelected())
            - add(Wame\DataGridControl\GroupActions\ChangeStatusSelected())

    CreateComponentGrid:
        class: Wame\ComponentModule\Vendor\Wame\AdminModule\Grids\CreateComponentGrid
        setup:
            - add(Wame\DataGridControl\Columns\Name())
            - add(Wame\DataGridControl\Columns\Description())


    # Form containers
    -  Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITemplateContainerFactory
    -  Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\IPositionContainerFactory
    -  Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITagContainerFactory
    -  Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITypeContainerFactory
    -  Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\IAttributeContainerFactory

    # Form groups
    - Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Groups\IComponentGroupFactory
    - Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Groups\IContainerGroupFactory

    # Forms
    Admin.ComponentFormBuilder:
        class: Wame\DynamicObject\Forms\LangEntityFormBuilder
        setup:
            - setRepository(@ComponentRepository)
            - add(@Wame\DynamicObject\Forms\Groups\IBasicGroupFactory, BasicGroup, {priority: 200})
            - add(@Wame\DynamicObject\Forms\Containers\ITitleContainerFactory, TitleContainer, {priority: 190})
            - add(@Wame\DynamicObject\Forms\Containers\IDescriptionContainerFactory, DescriptionContainer, {priority: 180})
            - add(@Wame\DynamicObject\Forms\Groups\IAdvancedGroupFactory, AdvancedGroup, {priority: 170})
            - add(@Wame\DynamicObject\Forms\Containers\INameContainerFactory, NameContainer, {priority: 160})
            - add(@Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITemplateContainerFactory, TemplateContainer, {priority: 150})
            - add(@Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\IPositionContainerFactory, PositionContainer, {priority: 140})
            - add(@Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Groups\IContainerGroupFactory, ContainerGroup, {priority: 130})
            - add(@Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITagContainerFactory, TagContainer, {priority: 120})
            - add(@Wame\ComponentModule\Vendor\Wame\AdminModule\Forms\Containers\ITypeContainerFactory, TypeContainer, {priority: 110})
            - add(@Wame\DynamicObject\Forms\Containers\ISubmitContainerFactory, SubmitContainer, {priority: 0})


webloader:
    js:
        admin:
            files:
                - %appDir%/../vendor/wame/ComponentModule/assets/main.js
